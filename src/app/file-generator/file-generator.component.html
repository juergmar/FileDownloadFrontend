<div class="file-generator-container">
  <p-toast></p-toast>
  <p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>

  <div class="content-section">
    <div class="form-section">
      <app-file-generator-form
        (generateFile)="onGenerateFile($event)">
      </app-file-generator-form>
    </div>

    <div class="jobs-section">
      <app-job-list
        [jobs]="recentJobs"
        [loading]="loading"
        [currentPage]="pagination.currentPage"
        [pageSize]="pagination.pageSize"
        [totalItems]="pagination.totalItems"
        [totalPages]="pagination.totalPages"
        (download)="onDownloadFile($event)"
        (cancel)="onCancelJob($event)"
        (retry)="onRetryJob($event)"
        (refresh)="onJobsRefresh()"
        (pageChange)="onPageChange($event)">
      </app-job-list>
    </div>
  </div>

  <!-- Processing Dialog Component -->
  <app-processing-dialog
    [(visible)]="showProcessingDialog"
    [job]="currentProcessingJob"
    (download)="downloadCurrentProcessingFile()"
    (dialogClosed)="onProcessingDialogClosed()">
  </app-processing-dialog>
</div>
